<!-- <div class="row-fluid clearfix loading loading32" ng-hide="data.$id === 'events'"></div> -->

<div class="row-fluid clearfix">
  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
    <span class="glyphicon glyphicon-option-horizontal"></span>
  </div>
</div>

<div class="row-fluid clearfix" ng-repeat="(eventNumber, eventData) in data | orderBy:'-created'">
  <div class="well col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center">

    <table class="" width="100%">
      <tr>

        <td style="vertical-align:top;" width="15%">
          <small style="color:#bfbfbf">{{eventData.created | date:'dd MMM yyyy (h:mm a)' || ''}}</small>
          <!-- <div class="light">{{eventNumber}}</div> -->
        </td>

        <td width="70%" align="left">
          <h6 style="margin-top:0px;"><a ng-href="" target="_blank">{{eventData.question}}</a></h6>
          <div ng-cloak ng-show="eventData.voteValue">
            <div class="comment"><span><strong>Vote:</strong> {{eventData.voteValue}}</span></div>
          </div>
          
          <!-- if there is already a comment, allow editing -->
          <div ng-cloak ng-show="eventData.comment">
            <img class="" style="width:32px;height:32px;float:left;margin-right:10px;border-radius:32px;" ng-src="/images/profilePicDianneFeinstein.jpg" />
            <div ng-hide="eventData.editing">
              <div class="comment"><span>{{eventData.comment}}</span></div>
              <button ng-value="eventData" ng-click="editComment(eventNumber, eventData)" type="button" class="btn btn-primary btn-lg btn-block">Edit Comment</button>
            </div>
            <div ng-show="eventData.editing">
              <div class="form-group">
              <textarea ng-model="eventData.comment" type="text-box" class="form-control" rows="3"></textarea>
              </div>
              <button ng-click="addComment(eventNumber, eventData)" type="button" class="btn btn-primary btn-lg btn-block">Update Comment</button>
            </div>
          </div>
          
          <!-- if there is no comment, show button to add -->
          <div ng-cloak ng-show="eventData.addComment">
            <div class="form-group">
                <textarea type="text-box" class="form-control" rows="3" placeholder="Comments" ng-model="comments" name="comments">
                </textarea>
            </div>
            <button ng-click="addComment()" type="button" class="btn btn-primary btn-lg btn-block">Create</button>
          </div>
          <div ng-cloak ng-show="-eventData.comment">
            <button ng-click="addComment()" type="button" class="btn btn-primary btn-lg btn-block">Add Comment</button>
          </div>
        </td>

        <td width="15%">
          <i ng-cloak ng-hide="voteData.option.key != '+'" class="fui-check lead green"></i>
          <i class="fui-cross lead red" ng-cloak ng-hide="voteData.option.key != '-'"></i>
          <strong class="glyphicon glyphicon-minus" ng-cloak ng-hide="voteData.option.key != '0'" class="lead"></strong>
        </td>

      </tr>
    </table>

  </div>
</div>
